var gform=window.gform||{};function announceAJAXValidationErrors(){if(!jQuery(".gform_validation_errors").length)return;const e=document.querySelector('[data-js="gform-focus-validation-error"]');e&&(e.setAttribute("tabindex","-1"),e.focus()),setTimeout((function(){wp.a11y.speak(jQuery(".gform_validation_errors > h2").text())}),1e3)}function gformBindFormatPricingFields(){jQuery(".ginput_amount, .ginput_donation_amount").off("change.gform").on("change.gform",(function(){gformFormatPricingField(this)})),jQuery(".ginput_amount, .ginput_donation_amount").each((function(){gformFormatPricingField(this)}))}function Currency(e){this.currency=e,this.toNumber=function(e){return this.isNumeric(e)?parseFloat(e):gformCleanNumber(e,this.currency.symbol_right,this.currency.symbol_left,this.currency.decimal_separator)},this.toMoney=function(e,r){if((r=r||!1)||(e=gformCleanNumber(e,this.currency.symbol_right,this.currency.symbol_left,this.currency.decimal_separator)),!1===e)return"";e+="",negative="","-"==e[0]&&(e=parseFloat(e.substr(1)),negative="-"),money=this.numberFormat(e,this.currency.decimals,this.currency.decimal_separator,this.currency.thousand_separator),"0.00"==money&&(negative="");var t=this.currency.symbol_left?this.currency.symbol_left+this.currency.symbol_padding:"",i=this.currency.symbol_right?this.currency.symbol_padding+this.currency.symbol_right:"";return money=negative+this.htmlDecode(t)+money+this.htmlDecode(i),money},this.numberFormat=function(e,r,t,i,n){n=void 0===n||n,e=(e+"").replace(",","").replace(" ","");var o=isFinite(+e)?+e:0,a=isFinite(+r)?Math.abs(r):0,l=void 0===i?",":i,s=void 0===t?".":t,f="";return"0"==r?(o+=1e-10,f=(""+Math.round(o)).split(".")):f=-1==r?(""+o).split("."):function(e,r){var t=Math.pow(10,r);return""+Math.round(e*t)/t}(o+=1e-10,a).split("."),f[0].length>3&&(f[0]=f[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,l)),n&&(f[1]||"").length<a&&(f[1]=f[1]||"",f[1]+=new Array(a-f[1].length+1).join("0")),f.join(s)},this.isNumeric=function(e){return gformIsNumber(e)},this.htmlDecode=function(e){var r,t,i=e,n=i.match(/&#[0-9]{1,5};/g);if(null!=n)for(var o=0;o<n.length;o++)i=(r=(t=n[o]).substring(2,t.length-1))>=-32768&&r<=65535?i.replace(t,String.fromCharCode(r)):i.replace(t,"");return i},this.getCode=function(){return"code"in this.currency&&""!==this.currency.code&&this.currency.code}}function gformCleanNumber(e,r,t,i){var n="",o="",a="",l=!1;e=(e=(e=(e+=" ").replace(/&.*?;/g,"")).replace(r,"")).replace(t,"");for(var s=0;s<e.length;s++)a=e.substr(s,1),parseInt(a,10)>=0&&parseInt(a,10)<=9||a==i?n+=a:"-"==a&&(l=!0);for(s=0;s<n.length;s++)(a=n.substr(s,1))>="0"&&a<="9"?o+=a:a==i&&(o+=".");return l&&(o="-"+o),!!gformIsNumber(o)&&parseFloat(o)}function gformGetDecimalSeparator(e){var r;switch(e){case"currency":r=new Currency(gf_global.gf_currency_config).currency.decimal_separator;break;case"decimal_comma":r=",";break;default:r="."}return r}function gformIsNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function gformIsNumeric(e,r){switch(r){case"decimal_dot":return new RegExp("^(-?[0-9]{1,3}(?:,?[0-9]{3})*(?:.[0-9]+)?)$").test(e);case"decimal_comma":return new RegExp("^(-?[0-9]{1,3}(?:.?[0-9]{3})*(?:,[0-9]+)?)$").test(e)}return!1}function gformDeleteUploadedFile(e,r,t){var i=jQuery("#field_"+e+"_"+r),n=jQuery(t).parent().index();i.find(".ginput_preview").eq(n).remove(),i.find('input[type="file"],.validation_message,#extensions_message_'+e+"_"+r).removeClass("gform_hidden"),i.find(".ginput_post_image_file").show(),i.find('input[type="text"]').val("");var o=jQuery("#gform_uploaded_files_"+e).val();if(o){var a=jQuery.secureEvalJSON(o);if(a){var l="input_"+r,s=i.find("#gform_multifile_upload_"+e+"_"+r);if(s.length>0){a[l].splice(n,1);var f=s.data("settings"),c=f.gf_vars.max_files;jQuery("#"+f.gf_vars.message_id).html(""),a[l].length<c&&gfMultiFileUploader.toggleDisabled(f,!1)}else a[l]=null;jQuery("#gform_uploaded_files_"+e).val(jQuery.toJSON(a))}}}void 0===jQuery.fn.prop&&(jQuery.fn.prop=jQuery.fn.attr),jQuery(document).on("gform_post_render",announceAJAXValidationErrors),jQuery(document).bind("gform_post_render",gformBindFormatPricingFields),gform.instances={},gform.console={error:function(e){window.console&&console.error(e)},info:function(e){window.console&&console.info(e)},log:function(e){window.console&&console.log(e)}},gform.adminUtils={handleUnsavedChanges:function(e){var r=null;jQuery(e).find("input, select, textarea").on("change keyup",(function(){void 0===jQuery(this).attr("onChange")&&void 0===jQuery(this).attr("onClick")&&(r=!0),"enable-api"===(jQuery(this).next().data("jsButton")||jQuery(this).data("jsButton"))&&(r=null)})),"gravityformswebapi"===this.getUrlParameter("subview")&&gf_webapi_vars.api_enabled!==gf_webapi_vars.enable_api_checkbox_checked&&(r=!0),jQuery(e).on("submit",(function(){r=null})),window.onbeforeunload=function(){return r}},getUrlParameter:function(e){for(var r=window.location.search.substring(1).split("&"),t=0;t<r.length;t++){var i=r[t].split("=");if(i[0]==e)return i[1]}},handleIEDisplay:function(){var e=!gform.tools.isIE(),r=gform.tools.getNodes("show-if-ie",!0),t=gform.tools.getNodes("hide-if-ie",!0),i=gform.tools.getNodes("show-if-not-ie",!0),n=gform.tools.getNodes("hide-if-not-ie",!0);e?(r.forEach((function(e){e.classList.add("active")})),t.forEach((function(e){e.classList.remove("active")}))):(i.forEach((function(e){e.classList.add("active")})),n.forEach((function(e){e.classList.remove("active")})))}},window.HandleUnsavedChanges=gform.adminUtils.handleUnsavedChanges,gform.tools={debounce:function(e,r,t){var i,n,o;return function(){var a=this,l=arguments,s=function(){i=null,t||e.apply(a,l)},f=t&&!i;l===n&&""+o==""+e&&clearTimeout(i);var c=function(e,r){o=e,n=r};i=setTimeout(s,r),c(e,l),f&&e.apply(a,l)}},defaultFor:function(e,r){return void 0!==e?e:r},getFocusable:function(e){return e=this.defaultFor(e,document),this.convertElements(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(function(e){return this.visible(e)}.bind(this))},htmlToElement:function(e){var r=document.createElement("template");return e=e.trim(),r.innerHTML=e,r.content.firstChild},elementToHTML:function(e){return e.outerHTML},convertElements:function(e){for(var r=[],t=e.length;t--;r.unshift(e[t]));return r},delegate:function(e,r,t,i){var n=document.querySelectorAll(e);[].forEach.call(n,(function(e,n){e.addEventListener(r,(function(e){(function(e,r){return(e.matches||e.msMatchesSelector).call(e,r)})(e.target,t)&&i(e)}))}))},getClosest:function(e,r){var t,i;for(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some((function(e){return"function"==typeof document.body[e]&&(t=e,!0)}));e;){if((i=e.parentElement)&&i[t](r))return i;e=i}return null},getNodes:function(e,r,t,i){if(!e)return gform.console.error("Please pass a selector to gform.tools.getNodes"),[];var n=i?e:'[data-js="'+e+'"]',o=(t=this.defaultFor(t,document)).querySelectorAll(n);return r&&(o=this.convertElements(o)),o},mergeObjects:function(){for(var e={},r=0;r<arguments.length;r+=1)for(var t=arguments[r],i=Object.keys(t),n=0;n<i.length;n+=1)e[i[n]]=t[i[n]];return e},setAttr:function(e,r,t,i,n){if(!e||!r||!t)return gform.console.error("Please pass a selector, attribute and value to gform.tools.setAttr"),[];i=this.defaultFor(i,document),n=this.defaultFor(n,0),setTimeout((function(){gform.tools.getNodes(e,!0,i,!0).forEach((function(e){e.setAttribute(r,t)}))}),n)},isRtl:function(){if("rtl"===jQuery("html").attr("dir"))return!0},isIE:function(){return window.document.documentMode},trigger:function(e,r,t,i){var n;if(e=this.defaultFor(e,""),r=this.defaultFor(r,document),t=this.defaultFor(t,!1),i=this.defaultFor(i,{}),t)(n=document.createEvent("HTMLEvents")).initEvent(e,!0,!1);else try{n=new CustomEvent(e,{detail:i})}catch(r){(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,i)}r.dispatchEvent(n)},uniqueId:function(e){return(e=this.defaultFor(e,"id"))+"-"+Math.random().toString(36).substr(2,9)},visible:function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},stripSlashes:function(e){return(e+"").replace(/\\(.?)/g,(function(e,r){switch(r){case"\\":return"\\";case"0":return"\0";case"":return"";default:return r}}))},getCookie:function(e){for(var r=document.cookie.split(";"),t=0;t<r.length;t++){var i=r[t].split("=");if(e==i[0].trim())return decodeURIComponent(i[1])}return null},setCookie:function(e,r,t,i){var n="",o=r;if(t){var a=new Date;a.setTime(a.getTime()+24*t*60*60*1e3),n=" expires="+a.toUTCString()}if(i){var l=gform.tools.getCookie(e);o=""!==l&&null!==l?l+","+r:r}document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(o)+";"+n},removeCookie:function(e){gform.tools.setCookie(e,"",-1)}},gform.a11y={},gform.options={jqEditorAccordions:{header:"button.panel-block-tabs__toggle",heightStyle:"content",collapsible:!0,animate:!1,create:function(e){gform.tools.setAttr(".ui-accordion-header","tabindex","0",e.target,100)},activate:function(e){gform.tools.setAttr(".ui-accordion-header","tabindex","0",e.target,100)},beforeActivate:function(e){"advanced_tab_toggle"===e.currentTarget.id&&window.field&&window.field.type&&"address"===window.field.type&&CreateAutocompleteUI(window.field)}},jqAddFieldAccordions:{heightStyle:"content",collapsible:!0,animate:!1,create:function(e){gform.tools.setAttr(".ui-accordion-header","tabindex","0",e.target,100)},activate:function(e){gform.tools.setAttr(".ui-accordion-header","tabindex","0",e.target,100)}}};var _gformPriceFields=new Array,_anyProductSelected;function gformIsHidden(e){return"none"==e.parents(".gfield").not(".gfield_hidden_product").css("display")}var gformCalculateTotalPrice=gform.tools.debounce((function(e){if(_gformPriceFields[e]){var r=0;_anyProductSelected=!1;for(var t=0;t<_gformPriceFields[e].length;t++)r+=gformCalculateProductPrice(e,_gformPriceFields[e][t]);if(_anyProductSelected)r+=gformGetShippingPrice(e);window.gform_product_total&&(r=window.gform_product_total(e,r)),gformUpdateTotalFieldPrice(e,r=gform.applyFilters("gform_product_total",r,e))}}),50,!1);function gformUpdateTotalFieldPrice(e,r){var t=jQuery(".ginput_total_"+e);if(!(!t.length>0)){var i=document.querySelector("#gform_wrapper_"+e+".gform_legacy_markup_wrapper"),n=i?t.next():t,o={current:String(n.val()),new:String(r),newFormatted:gformFormatMoney(String(r),!0)};if(function(e){return i?e.current!==e.new:e.current!==e.newFormatted}(o)){if(i)return n.val(o.new).trigger("change"),void t.html(o.newFormatted);n.val(o.new).trigger("change"),n.val(o.newFormatted)}}}function gformGetShippingPrice(e){var r=jQuery(".gfield_shipping_"+e+" input[readonly], .gfield_shipping_"+e+" select, .gfield_shipping_"+e+" input:checked"),t=0;return 1!=r.length||gformIsHidden(r)||(t=r.attr("readonly")?r.val():gformGetPrice(r.val())),gformToNumber(t)}function gformGetFieldId(e){var r=jQuery(e).attr("id").split("_");return r.length<=0?0:r[r.length-1]}function gformCalculateProductPrice(e,r){var t="_"+e+"_"+r;jQuery(".gfield_option"+t+", .gfield_shipping_"+e).find("select").each((function(){var r=jQuery(this),t=gformGetPrice(r.val()),i=r.attr("id").split("_")[2];r.children("option").each((function(){var r=jQuery(this),n=gformGetOptionLabel(r,r.val(),t,e,i);r.html(n)}))})),jQuery(".gfield_option"+t).find(".gfield_checkbox").find("input:checkbox").each((function(){var r=jQuery(this),t=r.attr("id"),i=t.split("_")[2],n=t.replace("choice_","#label_"),o=jQuery(n),a=gformGetOptionLabel(o,r.val(),0,e,i);o.html(a)})),jQuery(".gfield_option"+t+", .gfield_shipping_"+e).find(".gfield_radio").each((function(){var r=0,t=jQuery(this),i=t.attr("id").split("_")[2],n=t.find("input:radio:checked").val();n&&(r=gformGetPrice(n)),t.find("input:radio").each((function(){var t=jQuery(this),n=t.attr("id").replace("choice_","#label_"),o=jQuery(n);if(o){var a=gformGetOptionLabel(o,t.val(),r,e,i);o.html(a)}}))}));var i=gformGetBasePrice(e,r),n=gformGetProductQuantity(e,r);return n>0&&(jQuery(".gfield_option"+t).find("input:checked, select").each((function(){gformIsHidden(jQuery(this))||(i+=gformGetPrice(jQuery(this).val()))})),_anyProductSelected=!0),i=gformRoundPrice(i*=n)}function gformGetProductQuantity(e,r){if(!gformIsProductSelected(e,r))return 0;var t,i,n=jQuery("#ginput_quantity_"+e+"_"+r);if(n.length||(n=jQuery("#input_"+e+"_"+r+"_1")),gformIsHidden(n))return 0;n.length>0?t=n.val():(t=1,(n=jQuery(".gfield_quantity_"+e+"_"+r+" :input")).length>0&&(t=n.val(),i=gf_get_field_number_format(gf_get_input_id_by_html_id(n.attr("id")),e,"value")));return i||(i="currency"),(t=gformCleanNumber(t,"","",gformGetDecimalSeparator(i)))||(t=0),t}function gformIsProductSelected(e,r){var t="_"+e+"_"+r,i=jQuery("#ginput_base_price"+t+", .gfield_donation"+t+' input[type="text"], .gfield_product'+t+" .ginput_amount");return!(!i.val()||gformIsHidden(i))||!(!(i=jQuery(".gfield_product"+t+" select, .gfield_product"+t+" input:checked, .gfield_donation"+t+" select, .gfield_donation"+t+" input:checked")).val()||gformIsHidden(i))}function gformGetBasePrice(e,r){var t="_"+e+"_"+r,i=0,n=jQuery("#ginput_base_price"+t+", .gfield_donation"+t+' input[type="text"], .gfield_product'+t+" .ginput_amount");if(n.length>0)i=n.val(),gformIsHidden(n)&&(i=0);else{var o=(n=jQuery(".gfield_product"+t+" select, .gfield_product"+t+" input:checked, .gfield_donation"+t+" select, .gfield_donation"+t+" input:checked")).val();o&&(i=(o=o.split("|")).length>1?o[1]:0),gformIsHidden(n)&&(i=0)}return!1===(i=new Currency(gf_global.gf_currency_config).toNumber(i))?0:i}function gformFormatMoney(e,r){return gf_global.gf_currency_config?new Currency(gf_global.gf_currency_config).toMoney(e,r):e}function gformFormatPricingField(e){if(gf_global.gf_currency_config){var r=new Currency(gf_global.gf_currency_config).toMoney(jQuery(e).val());jQuery(e).val(r)}}function gformToNumber(e){return new Currency(gf_global.gf_currency_config).toNumber(e)}function gformGetPriceDifference(e,r){var t=parseFloat(r)-parseFloat(e);return price=gformFormatMoney(t,!0),t>0&&(price="+"+price),price}function gformGetOptionLabel(e,r,t,i,n){e=jQuery(e);var o=gformGetPrice(r),a=e.attr("price"),l=e.html().replace(/<span(.*)<\/span>/i,"").replace(a,""),s=gformGetPriceDifference(t,o);s=0==gformToNumber(s)?"":" "+s,e.attr("price",s);var f="option"==e[0].tagName.toLowerCase()?s:"<span class='ginput_price'>"+s+"</span>",c=l+f;return window.gform_format_option_label&&(c=gform_format_option_label(c,l,f,t,o,i,n)),c}function gformGetProductIds(e,r){for(var t=jQuery(r).hasClass(e)?jQuery(r).attr("class").split(" "):jQuery(r).parents("."+e).attr("class").split(" "),i=0;i<t.length;i++)if(t[i].substr(0,e.length)==e&&t[i]!=e)return{formId:t[i].split("_")[2],productFieldId:t[i].split("_")[3]};return{formId:0,fieldId:0}}function gformGetPrice(e){var r=e.split("|"),t=new Currency(gf_global.gf_currency_config);return r.length>1&&!1!==t.toNumber(r[1])?t.toNumber(r[1]):0}function gformRoundPrice(e){var r=new Currency(gf_global.gf_currency_config),t=r.numberFormat(e,r.currency.decimals,".","");return parseFloat(t)}function gformRegisterPriceField(e){_gformPriceFields[e.formId]||(_gformPriceFields[e.formId]=new Array);for(var r=0;r<_gformPriceFields[e.formId].length;r++)if(_gformPriceFields[e.formId][r]==e.productFieldId)return;_gformPriceFields[e.formId].push(e.productFieldId)}function gformInitPriceFields(){for(formId in jQuery(".gfield_price").each((function(){gformRegisterPriceField(gformGetProductIds("gfield_price",this)),jQuery(this).on("input change",'input[type="text"], input[type="number"], select',(function(){var e=gformGetProductIds("gfield_price",this);0==e.formId&&(e=gformGetProductIds("gfield_shipping",this)),jQuery(document).trigger("gform_price_change",[e,this]),gformCalculateTotalPrice(e.formId)})),jQuery(this).on("click",'input[type="radio"], input[type="checkbox"]',(function(){var e=gformGetProductIds("gfield_price",this);0==e.formId&&(e=gformGetProductIds("gfield_shipping",this)),jQuery(document).trigger("gform_price_change",[e,this]),gformCalculateTotalPrice(e.formId)}))})),_gformPriceFields)_gformPriceFields.hasOwnProperty(formId)&&gformCalculateTotalPrice(formId)}function gformShowPasswordStrength(e){var r=gformPasswordStrength(document.getElementById(e).value,document.getElementById(e+"_2")?document.getElementById(e+"_2").value:""),t=window.gf_text["password_"+r],i="unknown"===r?"blank":r;jQuery("#"+e+"_strength").val(r),jQuery("#"+e+"_strength_indicator").removeClass("blank mismatch short good bad strong").addClass(i).html(t)}function gformPasswordStrength(e,r){if(e.length<=0)return"blank";var t=wp.passwordStrength.hasOwnProperty("userInputDisallowedList")?wp.passwordStrength.userInputDisallowedList():wp.passwordStrength.userInputBlacklist();switch(wp.passwordStrength.meter(e,t,r)){case-1:return"unknown";case 2:return"bad";case 3:return"good";case 4:return"strong";case 5:return"mismatch";default:return"short"}}function gformToggleShowPassword(e){var r=jQuery("#"+e),t=r.parent().find("button"),i=t.find("span");switch(r.attr("type")){case"password":r.attr("type","text"),t.attr("aria-label",t.attr("data-label-hide")),i.removeClass("dashicons-hidden").addClass("dashicons-visibility");break;case"text":r.attr("type","password"),t.attr("aria-label",t.attr("data-label-show")),i.removeClass("dashicons-visibility").addClass("dashicons-hidden")}}function gformToggleCheckboxes(e){var r,t=jQuery(e),i=t.is('input[type="checkbox"]'),n=i?t.parent():t.prev(),o=n.find("label"),a=n.parent().find(".gchoice:not( .gchoice_select_all )"),l=gf_get_form_id_by_html_id(n.parents(".gfield").attr("id")),s=rgars(window,"gf_global/gfcalc/"+l);if(i)r=e.checked;else{var f=t.data("checked");r="boolean"==typeof f?!f:!(1===parseInt(f))}a.each((function(){jQuery('input[type="checkbox"]',this).prop("checked",r).trigger("change"),"function"==typeof jQuery('input[type="checkbox"]',this)[0].onclick&&jQuery('input[type="checkbox"]',this)[0].onclick()})),i?o.html(r?o.data("label-deselect"):o.data("label-select")):(t.html(r?t.data("label-deselect"):t.data("label-select")),t.data("checked",r)),wp.a11y.speak(r?gf_field_checkbox.strings.selected:gf_field_checkbox.strings.deselected),s&&s.runCalcs(l,s.formulaFields)}function gformToggleRadioOther(e){var r=e.parentElement.parentElement.parentElement.lastChild.querySelector('input[type="text"]');r&&(r.disabled="gf_other_choice"!==e.value)}function gformAddListItem(e,r){var t=jQuery(e);if(!t.hasClass("gfield_icon_disabled")){var i=t.parents(".gfield_list_group"),n=i.clone(),o=i.parents(".gfield_list_container"),a=n.find(":input:last").attr("tabindex");n.find("input, select, textarea").attr("tabindex",a).not(":checkbox, :radio").val(""),n.find(":checkbox, :radio").prop("checked",!1),n=gform.applyFilters("gform_list_item_pre_add",n,i),i.after(n),gformToggleIcons(o,r),gformAdjustClasses(o),gformAdjustRowAttributes(o),gform.doAction("gform_list_post_item_add",n,o),wp.a11y.speak(window.gf_global.strings.newRowAdded)}}function gformDeleteListItem(e,r){var t=jQuery(e).parents(".gfield_list_group"),i=t.parents(".gfield_list_container");t.remove(),gformToggleIcons(i,r),gformAdjustClasses(i),gformAdjustRowAttributes(i),gform.doAction("gform_list_post_item_delete",i),wp.a11y.speak(window.gf_global.strings.rowRemoved)}function gformAdjustClasses(e){e.find(".gfield_list_group").each((function(e){var r=(e+1)%2==0?"gfield_list_row_even":"gfield_list_row_odd";jQuery(this).removeClass("gfield_list_row_odd gfield_list_row_even").addClass(r)}))}function gformAdjustRowAttributes(e){e.parents(".gform_wrapper").hasClass("gform_legacy_markup_wrapper")||e.find(".gfield_list_group").each((function(e){jQuery(this).find("input, select, textarea").each((function(r,t){var i=jQuery(t);i.attr("aria-label",i.data("aria-label-template").gformFormat(e+1))}));var r=jQuery(this).find(".delete_list_item");r.attr("aria-label",r.data("aria-label-template").gformFormat(e+1))}))}function gformToggleIcons(e,r){var t=e.find(".gfield_list_group").length,i=e.find(".add_list_item"),n="undefined"!=typeof gf_legacy&&gf_legacy.is_legacy;e.find(".delete_list_item").css("visibility",1==t?"hidden":"visible"),r>0&&t>=r?(i.data("title",e.find(".add_list_item").attr("title")),i.addClass("gfield_icon_disabled").attr("title",""),n||i.prop("disabled",!0)):r>0&&(i.removeClass("gfield_icon_disabled"),n||i.prop("disabled",!1),i.data("title")&&i.attr("title",i.data("title")))}function gformAddRepeaterItem(e,r){var t=jQuery(e);if(!t.hasClass("gfield_icon_disabled")){var i=t.closest(".gfield_repeater_item"),n=i.clone(),o=i.closest(".gfield_repeater_container"),a=n.find(":input:last").attr("tabindex");n.find('input[type!="hidden"], select, textarea').attr("tabindex",a).not(":checkbox, :radio").val(""),n.find(":checkbox, :radio").prop("checked",!1),n.find(".validation_message").remove(),n=gform.applyFilters("gform_repeater_item_pre_add",n,i),i.after(n),n.children(".gfield_repeater_cell").each((function(){var e=jQuery(this).find(".gfield_repeater_container").first();e.length>0&&(resetContainerItems=function(e){e.children(".gfield_repeater_items").children(".gfield_repeater_item").each((function(e){jQuery(this).children(".gfield_repeater_cell").each((function(){var e=jQuery(this).find(".gfield_repeater_container").first();e.length>0&&resetContainerItems(e)}))})),e.children(".gfield_repeater_items").children(".gfield_repeater_item").not(":first").remove()},resetContainerItems(e))})),gformResetRepeaterAttributes(o),"function"==typeof gformInitDatepicker&&(o.find(".ui-datepicker-trigger").remove(),o.find(".hasDatepicker").removeClass("hasDatepicker"),gformInitDatepicker()),gformBindFormatPricingFields(),gformToggleRepeaterButtons(o,r),gform.doAction("gform_repeater_post_item_add",n,o)}}function gformDeleteRepeaterItem(e,r){var t=jQuery(e).closest(".gfield_repeater_item"),i=t.closest(".gfield_repeater_container");t.remove(),gformResetRepeaterAttributes(i),gformToggleRepeaterButtons(i,r),gform.doAction("gform_repeater_post_item_delete",i)}function gformResetRepeaterAttributes(e,r,t){var i=null;void 0===r&&(r=0),void 0===t&&(t=0),e.children(".gfield_repeater_items").children(".gfield_repeater_item").each((function(){jQuery(this).children(".gfield_repeater_cell").each((function(){var e=jQuery(this),n=jQuery(this).find(".gfield_repeater_container").first();n.length>0?gformResetRepeaterAttributes(n,r+1,t):jQuery(this).find("input, select, textarea, :checkbox, :radio").each((function(){var n=jQuery(this),o=n.attr("name");if(void 0!==o){var a=/^(input_[^\[]*)((\[[0-9]+\])+)/.exec(o);if(a){a[1];for(var l=a[2],s=/\[([0-9]+)\]/g,f=[],c=s.exec(l);null!=c;)f.push(c[1]),c=s.exec(l);for(var d=a[1],u="",g=(f=f.reverse()).length-1;g>=0;g--)g==r?(d+="["+t+"]",u+="-"+t):(d+="["+f[g]+"]",u+="-"+f[g]);var m=n.attr("id"),_=e.find("label[for='"+m+"']");if(m){var p=m.match(/((choice|input)_[0-9|_]*)-/);p&&p[2]&&(u=p[1]+u,_.attr("for",u),n.attr("id",u))}var h=o.replace(a[0],d),v=jQuery('input[name="'+h+'"]').is(":checked");n.is(":radio")&&n.is(":checked")&&o!==h&&v&&(null!==i&&i.prop("checked",!0),n.prop("checked",!1),i=n),n.attr("name",h)}}}))})),0===r&&t++})),null!==i&&(i.prop("checked",!0),i=null)}function gformToggleRepeaterButtons(e){var r=e.closest(".gfield_repeater_wrapper").data("max_items"),t=e.children(".gfield_repeater_items").children(".gfield_repeater_item").length,i=e.children(".gfield_repeater_items").children(".gfield_repeater_item").children(".gfield_repeater_buttons"),n=i.children(".add_repeater_item");i.children(".remove_repeater_item").css("visibility",1==t?"hidden":"visible"),r>0&&t>=r?(n.data("title",i.children(".add_repeater_item").attr("title")),n.addClass("gfield_icon_disabled").attr("title","")):r>0&&(n.removeClass("gfield_icon_disabled"),n.data("title")&&n.attr("title",n.data("title"))),e.children(".gfield_repeater_items").children(".gfield_repeater_item").children(".gfield_repeater_cell").each((function(e){var r=jQuery(this).find(".gfield_repeater_container").first();r.length>0&&gformToggleRepeaterButtons(r)}))}function gformMatchCard(e){var r=gformFindCardType(jQuery("#"+e).val()),t=jQuery("#"+e).parents(".gfield").find(".gform_card_icon_container");r?(jQuery(t).find(".gform_card_icon").removeClass("gform_card_icon_selected").addClass("gform_card_icon_inactive"),jQuery(t).find(".gform_card_icon_"+r).removeClass("gform_card_icon_inactive").addClass("gform_card_icon_selected")):jQuery(t).find(".gform_card_icon").removeClass("gform_card_icon_selected gform_card_icon_inactive")}function gformFindCardType(e){if(e.length<4)return!1;var r=window.gf_cc_rules,t=new Array;for(type in r)if(r.hasOwnProperty(type))for(i in r[type])if(r[type].hasOwnProperty(i)&&0===r[type][i].indexOf(e.substring(0,r[type][i].length))){t[t.length]=type;break}return 1==t.length&&t[0].toLowerCase()}function gformToggleCreditCard(){jQuery("#gform_payment_method_creditcard").is(":checked")?jQuery(".gform_card_fields_container").slideDown():jQuery(".gform_card_fields_container").slideUp()}function gformInitChosenFields(e,r){return jQuery(e).each((function(){var e=jQuery(this);if("rtl"==jQuery("html").attr("dir")&&e.addClass("chosen-rtl chzn-rtl"),e.is(":visible")&&0==e.siblings(".chosen-container").length){var t=gform.applyFilters("gform_chosen_options",{no_results_text:r},e);e.chosen(t)}}))}function gformInitCurrencyFormatFields(e){jQuery(e).each((function(){jQuery(this).val(gformFormatMoney(jQuery(this).val()))})).change((function(e){jQuery(this).val(gformFormatMoney(jQuery(this).val()))}))}var GFMergeTag=function(){GFMergeTag.getMergeTagValue=function(e,r,t){void 0===t&&(t=""),t=t.replace(":","");var i=parseInt(r,10);if(jQuery("#input_"+e+"_"+i+"_copy_values_activated:checked").length>0){var n=jQuery("#input_"+e+"_"+i+"_copy_values_activated").data("source_field_id");r=r==i?n:r.toString().replace(i+".",n+"."),i=n}var o,a=jQuery("#field_"+e+"_"+i),l=i==r?'input[name^="input_'+i+'"]':'input[name="input_'+r+'"]',s=a.find(l+', select[name^="input_'+r+'"], textarea[name="input_'+r+'"]');if(!(!window.gf_check_field_rule||"show"==gf_check_field_rule(e,i,!0,"")))return"";a.find(".ginput_container_email").hasClass("ginput_complex")&&(s=s.first());var f=gform.applyFilters("gform_value_merge_tag_"+e+"_"+i,!1,s,t);if(!1!==f)return f;switch(f="",t){case"label":var c=a.find(".gfield_label");return c.find(".screen-reader-text").remove(),c.text();case"qty":if(a.hasClass("gfield_price"))return!1===(o=gformGetProductQuantity(e,i))||""===o?0:o}if("checkbox"!==s.prop("type")&&"radio"!==s.prop("type")||(s=s.filter(":checked")),1===s.length){if(!s.is("select")&&"radio"!==s.prop("type")&&"checkbox"!==s.prop("type")||""!==t)void 0===o&&(o=s.val());else if((o=s.is("select")?s.find("option:selected"):"radio"===s.prop("type")&&s.parent().hasClass("gchoice_button")?s.parent().siblings(".gchoice_label").find("label").clone():s.next("label").clone()).find("span").remove(),1===o.length)o=o.text();else{for(var d=[],u=0;u<o.length;u++)d[u]=jQuery(o[u]).text();o=d}f=jQuery.isArray(o)?o.join(", "):"string"==typeof o?GFMergeTag.formatValue(o,t):""}else if(s.length>1){o=[];for(u=0;u<s.length;u++)if("checkbox"===s.prop("type")&&""===t){var g=jQuery(s[u]).next("label").clone();g.find("span").remove(),o[u]=GFMergeTag.formatValue(g.text(),t),g.remove()}else o[u]=GFMergeTag.formatValue(jQuery(s[u]).val(),t);f=o.join(", ")}return f},GFMergeTag.replaceMergeTags=function(e,r){var t=GFMergeTag.parseMergeTags(r);for(i in t)if(t.hasOwnProperty(i)){var n=t[i][1],o=(parseInt(n,10),null==t[i][3]?"":t[i][3].replace(":","")),a=GFMergeTag.getMergeTagValue(e,n,o);r=r.replace(t[i][0],a)}return r},GFMergeTag.formatValue=function(e,r){var t="";switch(t=(e=e.split("|")).length>1&&("price"===r||"currency"===r)?gformToNumber(e[1]):e[0],r){case"price":t=!1===(t=gformToNumber(t))?"":t;break;case"currency":t=!1===(t=gformFormatMoney(t,!1))?"":t;break;case"numeric":return!1===(t=gformToNumber(t))?0:t;default:t=t.trim()}return t},GFMergeTag.parseMergeTags=function(e,r){void 0===r&&(r=/{[^{]*?:(\d+(\.\d+)?)(:(.*?))?}/i);for(var t=[];r.test(e);){var i=t.length;t[i]=r.exec(e),e=e.replace(""+t[i][0],"")}return t}};new GFMergeTag;var GFCalc=function(formId,formulaFields){this.formId=formId,this.formulaFields=formulaFields,this.exprPatt=/^[0-9 -/*\(\)]+$/i,this.isCalculating={},this.init=function(e,r){var t=this;jQuery(document).off("gform_post_conditional_logic.gfCalc_{0}".gformFormat(e)).on("gform_post_conditional_logic.gfCalc_{0}".gformFormat(e),(function(){t.runCalcs(e,r)}));for(var i=0;i<r.length;i++){var n=jQuery.extend({},r[i]);this.runCalc(n,e),this.bindCalcEvents(n,e)}},this.runCalc=function(formulaField,formId){var calcObj=this,field=jQuery("#field_"+formId+"_"+formulaField.field_id),formulaInput=field.hasClass("gfield_price")?jQuery("#ginput_base_price_"+formId+"_"+formulaField.field_id):jQuery("#input_"+formId+"_"+formulaField.field_id),previous_val=formulaInput.val(),formula=gform.applyFilters("gform_calculation_formula",formulaField.formula,formulaField,formId,calcObj),expr=calcObj.replaceFieldTags(formId,formula,formulaField).replace(/(\r\n|\n|\r)/gm,""),result="";if(calcObj.exprPatt.test(expr)){try{result=eval(expr)}catch(e){}isFinite(result)||(result=0),window.gform_calculation_result&&(result=window.gform_calculation_result(result,formulaField,formId,calcObj),window.console&&console.log('"gform_calculation_result" function is deprecated since version 1.8! Use "gform_calculation_result" JS hook instead.')),result=gform.applyFilters("gform_calculation_result",result,formulaField,formId,calcObj);var formattedResult=gform.applyFilters("gform_calculation_format_result",!1,result,formulaField,formId,calcObj),numberFormat=gf_get_field_number_format(formulaField.field_id,formId);if(!1!==formattedResult)result=formattedResult;else if(field.hasClass("gfield_price")||"currency"==numberFormat)result=gformFormatMoney(result||0,!0);else{var decimalSeparator=".",thousandSeparator=",";"decimal_comma"==numberFormat&&(decimalSeparator=",",thousandSeparator="."),result=gformFormatNumber(result,gformIsNumber(formulaField.rounding)?formulaField.rounding:-1,decimalSeparator,thousandSeparator)}result!=previous_val&&(field.hasClass("gfield_price")?(jQuery("#input_"+formId+"_"+formulaField.field_id).text(result),formulaInput.val(result).trigger("change"),jQuery(".gfield_label_product").length&&!jQuery(".ginput_total").length&&(result=jQuery("label[ for=input_"+formId+"_"+formulaField.field_id+"_1 ]").find(".gfield_label_product").text()+" "+result,wp.a11y.speak(result)),gformCalculateTotalPrice(formId)):formulaInput.val(result).trigger("change"))}},this.runCalcs=function(e,r){for(var t=0;t<r.length;t++){var i=jQuery.extend({},r[t]);this.runCalc(i,e)}},this.bindCalcEvents=function(e,r){var t=this,i=e.field_id,n=GFMergeTag.parseMergeTags(e.formula);for(var o in t.isCalculating[i]=!1,n)if(n.hasOwnProperty(o)){var a=n[o][1],l=parseInt(a,10),s=jQuery("#field_"+r+"_"+l).find('input[name="input_'+a+'"], select[name="input_'+a+'"]');"checkbox"==s.prop("type")||"radio"==s.prop("type")?jQuery(s).click((function(){t.bindCalcEvent(a,e,r,0)})):s.is("select")||"hidden"==s.prop("type")?jQuery(s).change((function(){t.bindCalcEvent(a,e,r,0)})):jQuery(s).keydown((function(){t.bindCalcEvent(a,e,r)})).change((function(){t.bindCalcEvent(a,e,r,0)})),gform.doAction("gform_post_calculation_events",n[o],e,r,t)}},this.bindCalcEvent=function(e,r,t,i){var n=this,o=r.field_id;i=null==i?345:i,n.isCalculating[o][e]&&clearTimeout(n.isCalculating[o][e]),n.isCalculating[o][e]=window.setTimeout((function(){n.runCalc(r,t)}),i)},this.replaceFieldTags=function(e,r,t){var n=GFMergeTag.parseMergeTags(r);for(i in n)if(n.hasOwnProperty(i)){var o=n[i][1],a=parseInt(o,10);if(a!=t.field_id||a!=o){var l="value";if(n[i][3])l=n[i][3];else{var s=jQuery(".gfield_price input[name=input_"+a+"]").is("input[type=radio]"),f=jQuery(".gfield_price select[name=input_"+a+"]").length>0,c=jQuery('.gfield_price input[name="input_'+o+'"]').is("input[type=checkbox]");(f||s||c)&&(l="price")}var d=!window.gf_check_field_rule||"show"==gf_check_field_rule(e,a,!0,""),u=d?GFMergeTag.getMergeTagValue(e,o,l):0;u=gform.applyFilters("gform_merge_tag_value_pre_calculation",u,n[i],d,t,e),u=this.cleanNumber(u,e,a,t),r=r.replace(n[i][0],u)}}return r},this.cleanNumber=function(e,r,t,i){var n=gf_get_field_number_format(t,r);return n||(n=gf_get_field_number_format(i.field_id,r)),(e=gformCleanNumber(e,"","",gformGetDecimalSeparator(n)))||(e=0),e},this.init(formId,formulaFields)},__gf_keyup_timeout;function gformFormatNumber(e,r,t,i){void 0===t&&(t=window.gf_global?new Currency(gf_global.gf_currency_config).currency.decimal_separator:".");void 0===i&&(i=window.gf_global?new Currency(gf_global.gf_currency_config).currency.thousand_separator:",");return(new Currency).numberFormat(e,r,t,i,!1)}function getMatchGroups(e,r){for(var t=new Array;r.test(e);){var i=t.length;t[i]=r.exec(e),e=e.replace(""+t[i][0],"")}return t}function gf_get_field_number_format(e,r,t){var i=rgars(window,"gf_global/number_formats/{0}/{1}".gformFormat(r,e)),n=!1;return""===i?n:n=void 0===t?!1!==i.price?i.price:i.value:i[t]}function gformValidateFileSize(e,r){var t;if(t=jQuery(e).closest("div").siblings(".validation_message").length>0?jQuery(e).closest("div").siblings(".validation_message"):jQuery(e).siblings(".validation_message"),window.FileReader&&window.File&&window.FileList&&window.Blob){var i=e.files[0];i&&i.size>r?(t.text(i.name+" - "+gform_gravityforms.strings.file_exceeds_limit),wp.a11y.speak(i.name+" - "+gform_gravityforms.strings.file_exceeds_limit)):t.remove()}}function gformInitSpinner(e,r,t=!0){gform.applyFilters("gform_spinner_url",r,e)!=r&&(t=!0),jQuery("#gform_"+e).submit((function(){if(t)gformAddSpinner(e,r);else{var i=gform.applyFilters("gform_spinner_target_elem",jQuery("#gform_submit_button_"+e+", #gform_wrapper_"+e+" .gform_next_button, #gform_send_resume_link_button_"+e),e);gformInitializeSpinner(e,i)}}))}function gformInitializeSpinner(e,r,t="gform-ajax-spinner"){if(0==jQuery("#gform_ajax_spinner_"+e).length){var i='<span data-js-spinner-id="'+t+'" id="gform_ajax_spinner_'+e+'" class="gform-loader"></span>';(r instanceof jQuery?r:jQuery(r)).after(i)}}function gformRemoveSpinner(e="gform-ajax-spinner"){var r=document.querySelector('[data-js-spinner-id="'+e+'"]');r&&r.remove()}function gformAddSpinner(e,r){(void 0!==r&&r||(r=gform.applyFilters("gform_spinner_url",gf_global.spinnerUrl,e)),0==jQuery("#gform_ajax_spinner_"+e).length)&&gform.applyFilters("gform_spinner_target_elem",jQuery("#gform_submit_button_"+e+", #gform_wrapper_"+e+" .gform_next_button, #gform_send_resume_link_button_"+e),e).after('<img id="gform_ajax_spinner_'+e+'"  class="gform_ajax_spinner" src="'+r+'" alt="" />')}function gformReInitTinymceInstance(e,r){if(e&&r){var t=window.tinymce;if(t){var i=t.get("input_"+e+"_"+r);if(i){var n=jQuery.extend({},i.settings);i.remove(),t.init(n),gform.console.log("gformReInitTinymceInstance reinitialized TinyMCE on input_"+e+"_"+r+".")}else gform.console.error("gformReInitTinymceInstance did not find an instance for input_"+e+"_"+r+".")}else gform.console.error("gformReInitTinymceInstance requires tinymce to be available.")}else gform.console.error("gformReInitTinymceInstance requires a form and field id.")}function gf_raw_input_change(e,r){clearTimeout(__gf_keyup_timeout);var t=jQuery(r),i=t.attr("id"),n=gf_get_input_id_by_html_id(i),o=gf_get_form_id_by_html_id(i),a=gform.applyFilters("gform_field_meta_raw_input_change",{fieldId:n,formId:o},t,e);if(n=a.fieldId,o=a.formId,n){var l=t.is(":checkbox")||t.is(":radio")||t.is("select"),s=!l||t.is("textarea");("keyup"!=e.type||s)&&("change"!=e.type||l||s)&&("keyup"==e.type?__gf_keyup_timeout=setTimeout((function(){gf_input_change(r,o,n)}),300):gf_input_change(r,o,n))}}function gf_get_input_id_by_html_id(e){var r=gf_get_ids_by_html_id(e),t=r[r.length-1];return 3==r.length&&(r.shift(),t=r.join(".")),t}function gf_get_form_id_by_html_id(e){return gf_get_ids_by_html_id(e)[0]}function gf_get_ids_by_html_id(e){for(var r=e?e.split("_"):[],t=r.length-1;t>=0;t--)gformIsNumber(r[t])||r.splice(t,1);return r}function gf_input_change(e,r,t){gform.doAction("gform_input_change",e,r,t)}function gformExtractFieldId(e){var r=parseInt(e.toString().split(".")[0],10);return r||e}function gformExtractInputIndex(e){var r=parseInt(e.toString().split(".")[1],10);return r||!1}if(gform.recaptcha={renderRecaptcha:function(){jQuery(".ginput_recaptcha:not(.gform-initialized)").each((function(){var e=jQuery(this),r={sitekey:e.data("sitekey"),theme:e.data("theme"),tabindex:e.data("tabindex")};e.data("stoken")&&(r.stoken=e.data("stoken"));var t=!1;"invisible"==e.data("size")&&(t=function(r){r&&e.closest("form").submit()}),(t=gform.applyFilters("gform_recaptcha_callback",t,e))&&(r.callback=t),e.data("widget-id",grecaptcha.render(this.id,r)),r.tabindex&&e.find("iframe").attr("tabindex",r.tabindex),e.addClass("gform-initialized"),gform.doAction("gform_post_recaptcha_render",e)}))},gformIsRecaptchaPending:function(e){var r,t=e.find(".ginput_recaptcha");return!(!t.length||"invisible"!==t.data("size"))&&!((r=t.find(".g-recaptcha-response")).length&&r.val())},needsRender:function(){return document.querySelectorAll(".ginput_recaptcha:not(.gform-initialized)")[0]},renderOnRecaptchaLoaded:function(){if(gform.recaptcha.needsRender())var e=setInterval((function(){window.grecaptcha&&window.grecaptcha.render&&(this.renderRecaptcha(),clearInterval(e))}),100)}},gform.initializeOnLoaded(gform.recaptcha.renderOnRecaptchaLoaded),jQuery(document).on("gform_post_render",gform.recaptcha.renderOnRecaptchaLoaded),window.renderRecaptcha=gform.recaptcha.renderRecaptcha,window.gformIsRecaptchaPending=gform.recaptcha.gformIsRecaptchaPending,function(e,r){e.uploaders={};var t="undefined"!=typeof gform_gravityforms?gform_gravityforms.strings:{},i="undefined"!=typeof gform_gravityforms?gform_gravityforms.vars.images_url:"";function n(n){var a,l,s=r(n).data("settings"),f=new plupload.Uploader(s);function c(e,t){r("#"+e).prepend("<li class='gfield_description gfield_validation_message'>"+o(t)+"</li>"),setTimeout((function(){wp.a11y.speak(r("#"+e).text())}),1e3)}function d(i){var n,o,a=parseInt(i.gf_vars.max_files,10);if(a>0){var l=m(i.multipart_params.field_id)>=a;e.toggleDisabled(i,l),l||(n=i.gf_vars.message_id,o=t.max_reached,r("#"+n+" li:contains('"+o+"')").remove())}}function u(){var e;return e=void 0===(e=r("#gform_uploaded_files_"+a).val())||""===e?{}:r.parseJSON(e)}function g(e){var r=u(),t=_(e);return void 0===r[t]&&(r[t]=[]),r[t]}function m(e){return g(e).length}function _(e){return"input_"+e}function p(e){e.preventDefault()}a=f.settings.multipart_params.form_id,e.uploaders[s.container]=f,f.bind("Init",(function(e,t){e.features.dragdrop||r(".gform_drop_instructions").hide(),function(e){var t=e.querySelectorAll('input[type="file"]')[0],i=e.querySelectorAll(".gform_button_select_files")[0],o=r(n).closest(".gfield").find(".gfield_label")[0];if(!t||!o||!i)return;o.setAttribute("for",t.id),i.setAttribute("aria-label",i.innerText.toLowerCase()+", "+o.innerText.toLowerCase()),t.setAttribute("tabindex","-1"),t.setAttribute("aria-hidden","true")}(e.settings.container),d(e.settings)})),e.toggleDisabled=function(e,t){("string"==typeof e.browse_button?r("#"+e.browse_button):r(e.browse_button)).prop("disabled",t)},f.init(),f.bind("BeforeUpload",(function(e,r){e.settings.multipart_params.original_filename=r.name})),f.bind("FilesAdded",(function(i,n){var s,f=parseInt(i.settings.gf_vars.max_files,10),d=m(i.settings.multipart_params.field_id),u=i.settings.gf_vars.disallowed_extensions;if(f>0&&d>=f)r.each(n,(function(e,r){i.removeFile(r)}));else{r.each(n,(function(e,n){if(s=n.name.split(".").pop(),r.inArray(s,u)>-1)return c(i.settings.gf_vars.message_id,n.name+" - "+t.illegal_extension),void i.removeFile(n);if(n.status==plupload.FAILED||f>0&&d>=f)i.removeFile(n);else{var a=void 0!==n.size?plupload.formatSize(n.size):t.in_progress,l="$this=jQuery(this); var uploader = gfMultiFileUploader.uploaders."+i.settings.container.id+";uploader.stop();uploader.removeFile(uploader.getFile('"+n.id+"'));$this.after('"+t.cancelled+"'); uploader.start();$this.remove();",g='<div id="{0}" class="ginput_preview"><span class="gfield_fileupload_filename">{1}</span><span class="gfield_fileupload_filesize">{2}</span><span class="gfield_fileupload_progress"><span class="gfield_fileupload_progressbar"><span class="gfield_fileupload_progressbar_progress"></span></span><span class="gfield_fileupload_percent"></span></span><a class="gfield_fileupload_cancel gform-theme-button gform-theme-button--simple" href="javascript:void(0)" title="{3}" onclick="{4}" onkeypress="{4}">{5}</a>';g=gform.applyFilters("gform_file_upload_status_markup",g,n,a,t,l,i).gformFormat(n.id,o(n.name),a,t.cancel_upload,l,t.cancel),r("#"+i.settings.filelist).prepend(g),d++}})),i.refresh();var g="input:hidden[name='gform_unique_id']",_=r("form#gform_"+a+" "+g);0==_.length&&(_=r(g)),""===(l=_.val())&&(l="xxxxxxxx".replace(/[xy]/g,(function(e){var r=16*Math.random()|0;return("x"==e?r:3&r|8).toString(16)})),_.val(l)),f>0&&d>=f&&(e.toggleDisabled(i.settings,!0),c(i.settings.gf_vars.message_id,t.max_reached)),i.settings.multipart_params.gform_unique_id=l,i.start()}})),f.bind("UploadProgress",(function(e,t){var i=t.percent+"%";r("#"+t.id+" span.gfield_fileupload_percent").html(i),r("#"+t.id+" span.gfield_fileupload_progressbar_progress").css("width",t.percent+"%")})),f.bind("Error",(function(e,i){if(i.code===plupload.FILE_EXTENSION_ERROR){var n=void 0!==e.settings.filters.mime_types?e.settings.filters.mime_types[0].extensions:e.settings.filters[0].extensions;c(e.settings.gf_vars.message_id,i.file.name+" - "+t.invalid_file_extension+" "+n)}else if(i.code===plupload.FILE_SIZE_ERROR)c(e.settings.gf_vars.message_id,i.file.name+" - "+t.file_exceeds_limit);else{var o="Error: "+i.code+", Message: "+i.message+(i.file?", File: "+i.file.name:"");c(e.settings.gf_vars.message_id,o)}r("#"+i.file.id).html(""),e.refresh()})),f.bind("ChunkUploaded",(function(e,t,i){var n=r.secureEvalJSON(i.response);"error"==n.status?(e.removeFile(t),c(e.settings.gf_vars.message_id,t.name+" - "+n.error.message),r("#"+t.id).html("")):e.settings.multipart_params[t.target_name]=n.data})),f.bind("FileUploaded",(function(e,n,l){if(e.getFile(n.id)){var s=r.secureEvalJSON(l.response);if("error"==s.status)return c(e.settings.gf_vars.message_id,n.name+" - "+s.error.message),r("#"+n.id).html(""),void d(e.settings);var f=rgars(s,"data/uploaded_filename"),m='<span class="gfield_fileupload_filename">'+o(f)+'</span><span class="gfield_fileupload_filesize">'+plupload.formatSize(n.size)+"</span>";m+='<span class="gfield_fileupload_progress gfield_fileupload_progress_complete"><span class="gfield_fileupload_progressbar"><span class="gfield_fileupload_progressbar_progress"></span></span><span class="gfield_fileupload_percent">'+n.percent+"%</span></span>";var p,h,v,y=e.settings.multipart_params.form_id,b=e.settings.multipart_params.field_id;m="undefined"!=typeof gf_legacy&&gf_legacy.is_legacy?"<img class='gform_delete' src='"+i+"/delete.png' onclick='gformDeleteUploadedFile("+y+","+b+", this);' onkeypress='gformDeleteUploadedFile("+y+","+b+", this);' alt='"+t.delete_file+"' title='"+t.delete_file+"' /> "+m:m+"<button class='gform_delete_file gform-theme-button gform-theme-button--simple' onclick='gformDeleteUploadedFile("+y+","+b+", this);'><span class='dashicons dashicons-trash' aria-hidden='true'></span><span class='screen-reader-text'>"+t.delete_file+": "+o(f)+"</span></button>",m=gform.applyFilters("gform_file_upload_markup",m,n,e,t,i,s),r("#"+n.id).html(m),r("#"+n.id+" span.gfield_fileupload_progressbar_progress").css("width",n.percent+"%"),100==n.percent&&(s.status&&"ok"==s.status?(p=b,h=s.data,(v=g(p)).unshift(h),function(e,t){var i=u(),n=r("#gform_uploaded_files_"+a),o=_(e);i[o]=t,n.val(r.toJSON(i))}(p,v)):c(e.settings.gf_vars.message_id,t.unknown_error+": "+n.name))}})),f.bind("FilesRemoved",(function(e,r){d(e.settings)})),r("#"+s.drop_element).on({dragenter:p,dragover:p})}function o(e){return r("<div/>").text(e).html()}r(document).bind("gform_post_render",(function(i,o){r("form#gform_"+o+" .gform_fileupload_multifile").each((function(){n(this)}));var a=r("form#gform_"+o);a.length>0&&a.submit((function(){var i=!1;if(r.each(e.uploaders,(function(e,r){if(r.total.queued>0)return i=!0,!1})),i)return alert(t.currently_uploading),window["gf_submitting_"+o]=!1,r("#gform_ajax_spinner_"+o).remove(),!1}))})),r(document).bind("gform_post_conditional_logic",(function(t,i,n,o){o||r.each(e.uploaders,(function(e,r){r.refresh()}))})),r(document).ready((function(){"undefined"!=typeof adminpage&&"toplevel_page_gf_edit_forms"===adminpage||"undefined"==typeof plupload?r(".gform_button_select_files").prop("disabled",!0):"undefined"!=typeof adminpage&&adminpage.indexOf("_page_gf_entries")>-1&&r(".gform_fileupload_multifile").each((function(){n(this)}))})),e.setup=function(e){n(e)}}(window.gfMultiFileUploader=window.gfMultiFileUploader||{},jQuery),jQuery(document).on("change keyup",".gfield input, .gfield select, .gfield textarea",(function(e){gf_raw_input_change(e,this)})),jQuery(document).on("submit.gravityforms",".gform_wrapper form",(function(e){var r,t=jQuery(this).closest(".gform_wrapper"),i=t.attr("id").split("_")[2],n=t.find(".gform_page").length>0,o=parseInt(t.find('input[name^="gform_source_page_number_"]').val(),10),a=parseInt(t.find('input[name^="gform_target_page_number_"]').val(),10),l=0===a,s=!l&&a>o,f="1"===jQuery("#gform_save_"+i).val();if(n){var c=s?"next":"submit";r=t.find(".gform_page:visible").find('.gform_page_footer [id^="gform_'+c+'_button_"]')}else r=t.find("#gform_submit_button_"+i);f&&wp.a11y.speak(window.gf_global.strings.formSaved);var d=!r.is(":visible"),u=r.is(":disabled");if(!f&&(l||s)&&(d||u))window["gf_submitting_"+i]=!1,t.find(".gform_ajax_spinner").remove(),e.preventDefault();else if(l||l){var g=t.find(".ginput_recaptcha");if(0!==g.length&&"invisible"===g.data("size")){var m=t.find('input[name="g-recaptcha-response"]');0===m.length&&(m=g.find(".g-recaptcha-response")),m.val()||(grecaptcha.execute(g.data("widget-id")),setTimeout((function(){window["gf_submitting_"+i]=!1}),4e3),e.preventDefault())}}})),!window.rgars)function rgars(e,r){for(var t=r.split("/"),i=e,n=0;n<t.length;n++)i=rgar(i,t[n]);return i}if(!window.rgar)function rgar(e,r){return void 0!==e[r]?e[r]:""}String.prototype.gformFormat||(String.prototype.gformFormat=function(){var e=arguments;return this.replace(/{(\d+)}/g,(function(r,t){return void 0!==e[t]?e[t]:r}))}),String.prototype.format=function(){var e=arguments;return console.warn("String.format will be replaced with String.gformFormat in Gravity Forms version 2.8."),this.replace(/{(\d+)}/g,(function(r,t){return void 0!==e[t]?e[t]:r}))},jQuery(document).ready((function(){jQuery("#gform-form-toolbar__menu > li").hover((function(){jQuery(this).find(".gform-form-toolbar__submenu").toggleClass("open"),jQuery(this).find(".has_submenu").toggleClass("submenu-open")}),(function(){jQuery(".gform-form-toolbar__submenu.open").removeClass("open"),jQuery(".has_submenu.submenu-open").removeClass("submenu-open")})),jQuery("#gform-form-toolbar__menu .has_submenu").click((function(e){e.preventDefault()}))})),jQuery(document).ready((function(){jQuery(".gform-settings-field").each((function(){jQuery(this).find("> .gform-settings-input__container").length>1&&jQuery(this).addClass("gform-settings-field--multiple-inputs")}))})),jQuery((function(){gform.tools.trigger("gform_main_scripts_loaded")}));